<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Agendei</title>
</head>
<body>

<h2>Agendei</h2>
<input type="email" id="login-email" placeholder="E-mail">
<input type="password" id="login-senha" placeholder="Senha">
<button id="btn-entrar">Entrar</button>
<button id="btn-google">Login com Google</button>

<script type="module">
  // üîπ IMPORTS DO FIREBASE VIA CDN
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.10.0/firebase-app.js";
  import { getAuth, signInWithEmailAndPassword, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/12.10.0/firebase-auth.js";

  // üîπ CONFIGURA√á√ÉO DO SEU FIREBASE
  const firebaseConfig = {
    apiKey: "AIzaSyAxyovmqjNYIzOYYDZZnduquiJQeK4UIgc",
    authDomain: "agendei-d721e.firebaseapp.com",
    projectId: "agendei-d721e",
    storageBucket: "agendei-d721e.firebasestorage.app",
    messagingSenderId: "525023801595",
    appId: "1:525023801595:web:71a6d72e986e6e9e30005e"
  };

  // üîπ INICIALIZA√á√ÉO
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // üîπ LOGIN EMAIL/SENHA
  document.getElementById('btn-entrar').onclick = () => {
    const email = document.getElementById('login-email').value;
    const senha = document.getElementById('login-senha').value;
    signInWithEmailAndPassword(auth, email, senha)
      .then(user => alert("Login realizado: " + user.user.email))
      .catch(err => alert("Erro no login: " + err.message));
  };

  // üîπ LOGIN GOOGLE
  document.getElementById('btn-google').onclick = () => {
    const provider = new GoogleAuthProvider();
    signInWithPopup(auth, provider)
      .then(result => alert("Login Google: " + result.user.email))
      .catch(err => alert("Erro no Google: " + err.message));
  };

  // üîπ MONITORA SE H√Å USU√ÅRIO LOGADO
  onAuthStateChanged(auth, user => {
    if(user) console.log("Usu√°rio logado:", user.email);
    else console.log("Nenhum usu√°rio logado");
  });
</script>

</body>
</html>
