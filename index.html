<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Agendei</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root { --primary:#7b5ea7; --secondary:#fdf4ff; --accent:#ff6b81; --edit:#4a90e2; --bg:linear-gradient(135deg,#f8e8ee,#e3f2fd); --text:#333; --card-bg:#fff; }
body { margin:0; font-family:'Poppins',sans-serif; background:var(--bg); color:var(--text); min-height:100vh; display:flex; justify-content:center; align-items:center; transition:0.3s; }
.container { background:var(--card-bg); width:100%; max-width:500px; border-radius:20px; padding:25px; box-shadow:0 10px 30px rgba(0,0,0,0.1); box-sizing:border-box; }

/* Login */
#login-page { display:flex; flex-direction:column; text-align:center; gap:10px; }
#login-page input, #login-page button { width:100%; padding:12px; border-radius:10px; border:1px solid #ddd; font-family:inherit; }
#login-page button { background:#7b5ea7; color:white; border:none; font-weight:600; cursor:pointer; }
#error { color:red; font-size:12px; display:none; }

/* App */
#app { display:none; flex-direction:column; width:100%; }
.nav-tabs { display:flex; justify-content:space-around; margin-bottom:25px; border-bottom:2px solid #eee; }
.tab-item { padding:10px; cursor:pointer; font-weight:600; color:#999; }
.tab-item.active { color:var(--primary); border-bottom:3px solid var(--primary); }
.content-section { display:none; }
.content-section.active { display:block; }
label { font-size:13px; font-weight:600; display:block; margin-top:15px; }
input, select, button { margin-top:6px; box-sizing:border-box; }
button { cursor:pointer; }
.card-item { background:var(--secondary); padding:15px; border-radius:15px; margin-bottom:10px; border:1px solid #7b5ea722; display:flex; justify-content:space-between; align-items:center; }
.actions { display:flex; gap:8px; }
.btn-mini { width:auto; font-size:12px; padding:6px 10px; margin:0; border-radius:8px; }
.btn-edit { background:var(--edit); color:white; border:none; }
.btn-del { background:var(--accent); color:white; border:none; }
.grid-half { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
hr { border:0; border-top:1px solid #eee; margin:25px 0; }
</style>
</head>
<body>

<div class="container" id="login-page">
    <h2>Agendei</h2>
    <input type="email" id="email" placeholder="E-mail">
    <input type="password" id="senha" placeholder="Senha">
    <button id="btn-login">Entrar</button>
    <p id="error">E-mail ou senha incorretos!</p>
</div>

<div class="container" id="app">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
        <strong>Usuário: oagendei@gmail.com</strong>
        <button onclick="logout()" style="background:#ff6b81;color:white;border:none;padding:6px 12px;border-radius:8px; cursor:pointer;">Sair</button>
    </div>

    <div class="nav-tabs">
        <div class="tab-item active" id="tab-agendar">Agendar</div>
        <div class="tab-item" id="tab-dashboard">Agenda</div>
        <div class="tab-item" id="tab-config">Ajustes</div>
    </div>

    <div id="sec-agendar" class="content-section active">
        <h2>Novo Agendamento</h2>
        <label>Serviço Geral</label>
        <select id="sel-serv-ag"><option value="">Carregando...</option></select>
        <label>Profissional</label>
        <select id="sel-prof-ag"><option value="">Selecione o serviço...</option></select>
        <label>Cliente</label>
        <input type="text" id="cli-nome">
        <div class="grid-half">
            <input type="date" id="cli-data">
            <input type="time" id="cli-hora">
        </div>
        <button id="btn-confirmar-ag">Confirmar Agendamento</button>
    </div>

    <div id="sec-dashboard" class="content-section">
        <h2>Agenda</h2>
        <input type="date" id="filtro-data-ver">
        <div id="lista-agendamentos-dia" style="margin-top:20px;"></div>
    </div>

    <div id="sec-config" class="content-section">
        <div style="display:flex; gap:10px; margin-bottom:20px;">
            <button onclick="abrirModalServico()" style="background:#2ecc71;">+ Novo Serviço</button>
            <button onclick="abrirModalProf()" style="background:#2ecc71;">+ Novo Profissional</button>
        </div>
        <h3>Serviços Gerais</h3>
        <div id="lista-serv-gerais"></div>
        <hr>
        <h3>Equipe / Perfis</h3>
        <div id="lista-perfis-equipe"></div>
    </div>
</div>

<!-- Modais -->
<div id="modal-servico" class="modal">
    <div class="modal-content">
        <span class="close" onclick="fecharModais()">&times;</span>
        <h3 id="titulo-servico">Serviço Geral</h3>
        <input type="hidden" id="gs-id-edit">
        <label>Nome do Serviço</label>
        <input type="text" id="gs-nome">
        <div class="grid-half">
            <div><label>Tempo Padrão</label><input type="number" id="gs-tempo"></div>
            <div><label>Preço Padrão</label><input type="number" id="gs-preco"></div>
        </div>
        <button id="btn-salvar-serv-geral" style="margin-top:20px;">Salvar Serviço</button>
    </div>
</div>

<div id="modal-perfil" class="modal">
    <div class="modal-content">
        <span class="close" onclick="fecharModais()">&times;</span>
        <h3 id="modal-titulo-nome">Editar Perfil</h3>
        <input type="hidden" id="modal-prof-id">
        <label>Nome do Colaborador</label>
        <input type="text" id="modal-input-nome">
        <h4 style="margin-top:20px; color:var(--primary);">Serviços Prestados:</h4>
        <div id="lista-servicos-personalizados"></div>
        <button id="btn-salvar-perfil-total" style="background:#2ecc71;margin-top:20px;">Salvar Alterações</button>
    </div>
</div>

<script type="module">
const ADM_EMAIL = "oagendei@gmail.com";
const ADM_SENHA = "2020191";

const loginPage = document.getElementById('login-page');
const appPage = document.getElementById('app');
const errorText = document.getElementById('error');

document.getElementById('btn-login').onclick = () => {
    const email = document.getElementById('email').value;
    const senha = document.getElementById('senha').value;
    if(email === ADM_EMAIL && senha === ADM_SENHA){
        loginPage.style.display = 'none';
        appPage.style.display = 'flex';
        errorText.style.display = 'none';
    } else {
        errorText.style.display = 'block';
    }
};

function logout(){
    loginPage.style.display = 'flex';
    appPage.style.display = 'none';
}
</script>

<!-- Aqui você pode adicionar o restante do seu JS do app (Firebase, modais, CRUD etc.) -->

</body>
</html>
